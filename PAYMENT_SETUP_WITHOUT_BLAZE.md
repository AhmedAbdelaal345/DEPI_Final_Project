# ุญู ุงูุฏูุน ุจุฏูู Firebase Functions ุฃู Blaze Plan

## ุชู ุฅูุดุงุก ุญู ุจุฏูู ูุงูู ูุนูู ุจุฏูู ุงูุญุงุฌุฉ ูุชุฑููุฉ Firebase!

### โ ูุง ุชู ุนููู:

1. **ุฅุถุงูุฉ ููุชุจุงุช ุฌุฏูุฏุฉ** ูู `pubspec.yaml`:
   - `url_launcher`: ููุชุญ ุฑูุงุจุท ุงูุฏูุน
   - `http`: ููุชูุงุตู ูุน APIs

2. **ุฅูุดุงุก Payment Service** (`lib/core/services/payment_service.dart`):
   - ูุฏูุฑ ุนูููุงุช ุงูุฏูุน ุจุฏูู Cloud Functions
   - ูุญูุธ ุณุฌูุงุช ุงูุฏูุน ูู Firestore ูุจุงุดุฑุฉ
   - ููุชุญ ุตูุญุฉ ุงูุฏูุน ูู ุงููุชุตูุญ

3. **ุตูุญุฉ Upgrade to PRO** (`lib/features/payment/presentation/pages/upgrade_to_pro_page.dart`):
   - ูุงุฌูุฉ ุฌูููุฉ ูุนุฑุถ ูููุฒุงุช PRO
   - ุฒุฑ ููุชุฑููุฉ ููุชุญ ุตูุญุฉ ุงูุฏูุน

### ๐ฏ ููููุฉ ุงูุฅุนุฏุงุฏ:

#### ุงูุฎุทูุฉ 1: ุชุซุจูุช ุงูููุชุจุงุช
```bash
flutter pub get
```

#### ุงูุฎุทูุฉ 2: ุฅูุดุงุก Stripe Payment Link (ูุฌุงูู!)
1. ุงุฐูุจ ุฅูู: https://dashboard.stripe.com/test/payment-links
2. ุงุถุบุท ุนูู "Create payment link"
3. ุงููุฃ ุงููุนูููุงุช:
   - Product name: "Pro Membership"
   - Price: $9.99 (ุฃู ุฃู ุณุนุฑ ุชุฑูุฏู)
   - Currency: USD
4. ุงูุณุฎ ุงูุฑุงุจุท ุงููุงุชุฌ

#### ุงูุฎุทูุฉ 3: ุชุญุฏูุซ ุงูููุฏ
ุงูุชุญ ููู `lib/core/services/payment_service.dart` ูุบูุฑ ุงูุณุทุฑ:
```dart
static const String _stripePaymentLinkPro = 'ุถุน_ุงูุฑุงุจุท_ููุง';
```

#### ุงูุฎุทูุฉ 4: ุฅุถุงูุฉ ุตูุญุฉ ุงูุชุฑููุฉ ูุชุทุจููู
ูู ุฃู ููุงู ุชุฑูุฏ ุนุฑุถ ุฒุฑ ุงูุชุฑููุฉ:
```dart
Navigator.push(
  context,
  MaterialPageRoute(
    builder: (context) => const UpgradeToProPage(),
  ),
);
```

### ๐ ููู ูุนูู ุงููุธุงู:

1. ุงููุณุชุฎุฏู ูุถุบุท ุนูู "Upgrade to PRO"
2. ููุญูุธ ุทูุจ ุงูุฏูุน ูู Firestore (pending_payments)
3. ูููุชุญ ุฑุงุจุท Stripe ูู ุงููุชุตูุญ
4. ุงููุณุชุฎุฏู ูููู ุงูุฏูุน ูู ุตูุญุฉ Stripe ุงูุขููุฉ
5. ุจุนุฏ ูุฌุงุญ ุงูุฏูุนุ ุชุญุชุงุฌ ูุชุญุฏูุซ ุญุงูุฉ PRO ูุฏููุงู ุฃู ุจุงุณุชุฎุฏุงู Stripe Webhooks

### ๐ ุฎูุงุฑุงุช ุฅุถุงููุฉ ุจุฏูู Blaze Plan:

#### Option A: ุงุณุชุฎุฏุงู Stripe Payment Links (ููุตู ุจู - ุณูู ูุณุฑูุน)
โ ูุฌุงูู ุชูุงูุงู
โ ูุง ูุญุชุงุฌ ุฎุงุฏู
โ ุขูู ููุถููู ูู Stripe
โ ูุญุชุงุฌ ุชุญุฏูุซ ูุฏูู ูุญุงูุฉ Pro

#### Option B: ุงุณุชุฎุฏุงู ุฎุงุฏู ูุฌุงูู ุฎุงุฑุฌู
ููููู ุงุณุชุฎุฏุงู:
- **Vercel Functions** (ูุฌุงูู)
- **Netlify Functions** (ูุฌุงูู)
- **Heroku Free Tier** (ูุฌุงูู)
- **Railway** (ูุฌุงูู)

#### Option C: ุงุณุชุฎุฏุงู Stripe Webhooks + Firestore
1. ุฃูุดุฆ webhook ูู Stripe
2. ูุฌูู ูุจุงุดุฑุฉ ูุชุญุฏูุซ Firestore
3. ูุง ูุญุชุงุฌ Cloud Functions!

### ๐จ ุงููููุฒุงุช ูู ุงูุญู ุงูุฌุฏูุฏ:

โจ ูุงุฌูุฉ ุฌูููุฉ ููุชุญุฑูุฉ ููุชุฑููุฉ
๐ณ ุชูุงูู ุขูู ูุน Stripe
๐ ุญูุธ ุณุฌูุงุช ุงูุฏูุน ูู Firestore
๐ฑ ูุนูู ุนูู ุฌููุน ุงูููุตุงุช (Android, iOS, Web)
๐ ูุง ูุญุชุงุฌ Blaze Plan ุฃู Cloud Functions
๐ฐ ูุฌุงูู ุชูุงูุงู!

### โ๏ธ ููุญูุธุฉ ูููุฉ:

ููุญุตูู ุนูู ุชุญุฏูุซ ุชููุงุฆู ูุญุงูุฉ Pro ุจุนุฏ ุงูุฏูุนุ ุณุชุญุชุงุฌ ูุฅุนุฏุงุฏ Webhook ูู Stripe.
ููููู ุงุณุชุฎุฏุงู ุฎุฏูุฉ ูุฌุงููุฉ ูุซู Vercel ุฃู Netlify ูุงุณุชูุจุงู Webhooks ูุชุญุฏูุซ Firestore.

### ๐ ููุฏุนู:
ุฅุฐุง ููุช ุชุฑูุฏ ุฅุนุฏุงุฏ Webhooks ุงูุชููุงุฆูุฉุ ุฃุฎุจุฑูู ูุณุฃุณุงุนุฏู ูู ุฅูุดุงุก ุฎุงุฏู ุจุณูุท ูุฌุงูู!

